import asyncio
import logging
import os
import random
from aiogram import Bot, Dispatcher, F
from aiogram.filters import Command
from aiogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton

TOKEN = os.environ.get("TELEGRAM_BOT_TOKEN")

if not TOKEN:
    raise RuntimeError(
        "Puudub TELEGRAM_BOT_TOKEN keskkonnamuutuja. "
        "Lisa see Railway seadetes (Variables)."
    )

bot = telebot.TeleBot(TOKEN, parse_mode="HTML")

logging.basicConfig(level=logging.INFO)

TAROT_CARDS = [
    {
        "name": "0. –®—É—Ç",
        "upright": "–ù–∞—á–∞–ª–æ, –ª—ë–≥–∫–æ—Å—Ç—å, –¥–æ–≤–µ—Ä–∏–µ –º–∏—Ä—É, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å.",
        "reversed": "–ë–µ–∑–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, —Ö–∞–æ—Å, —Å—Ç—Ä–∞—Ö —Å–¥–µ–ª–∞—Ç—å —à–∞–≥, –≥–ª—É–ø—ã–π —Ä–∏—Å–∫.",
        "advice": "–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –Ω–∞—á–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ, –Ω–æ –Ω–µ –ø—Ä—ã–≥–∞–π –≤ –ø—Ä–æ–ø–∞—Å—Ç—å —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏."
    },
    {
        "name": "I. –ú–∞–≥",
        "upright": "–°–∏–ª–∞ –≤–æ–ª–∏, –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —Ä–µ—Å—É—Ä—Å—ã –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö.",
        "reversed": "–ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏, —Å–∞–º–æ–æ–±–º–∞–Ω, —Ä–∞—Å—Ñ–æ–∫—É—Å, –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª.",
        "advice": "–°–æ–±–µ—Ä–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –≤ –æ–¥–Ω—É —Ç–æ—á–∫—É –∏ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ, —á—Ç–æ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å."
    },
    {
        "name": "II. –í–µ—Ä—Ö–æ–≤–Ω–∞—è –ñ—Ä–∏—Ü–∞",
        "upright": "–ò–Ω—Ç—É–∏—Ü–∏—è, —Ç–∏—à–∏–Ω–∞, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∑–Ω–∞–Ω–∏–µ, —Ç–∞–π–Ω–∞.",
        "reversed": "–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç—É–∏—Ü–∏–∏, —Å–∫—Ä—ã—Ç—ã–µ –º–æ—Ç–∏–≤—ã, –ø—É—Ç–∞–Ω–∏—Ü–∞.",
        "advice": "–ü—Ä–∏—Ç–æ—Ä–º–æ–∑–∏, –ø–æ–º–æ–ª—á–∏ –∏ –ø—Ä–∏—Å–ª—É—à–∞–π—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –≥–æ–ª–æ—Å—É, –ø—Ä–µ–∂–¥–µ —á–µ–º –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å."
    },
    {
        "name": "III. –ò–º–ø–µ—Ä–∞—Ç—Ä–∏—Ü–∞",
        "upright": "–ó–∞–±–æ—Ç–∞, —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ, —Ä–æ—Å—Ç, –∏–∑–æ–±–∏–ª–∏–µ.",
        "reversed": "–í—ã–≥–æ—Ä–∞–Ω–∏–µ, —Å–∞–º–æ—É–Ω–∏—á–∏–∂–µ–Ω–∏–µ, –±–ª–æ–∫ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞.",
        "advice": "–ü–æ–∑–∞–±–æ—Ç—å—Å—è –æ —Å–µ–±–µ –∏ –¥–∞–π –∏–¥–µ—è–º –≤—Ä–µ–º—è —Å–æ–∑—Ä–µ—Ç—å, –Ω–µ –≤—ã–∂–∏–º–∞–π –∏–∑ —Å–µ–±—è –ø–æ—Å–ª–µ–¥–Ω–µ–µ."
    },
    {
        "name": "IV. –ò–º–ø–µ—Ä–∞—Ç–æ—Ä",
        "upright": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –≥—Ä–∞–Ω–∏—Ü—ã, –ø–æ—Ä—è–¥–æ–∫.",
        "reversed": "–ñ—ë—Å—Ç–∫–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–¥–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è, –±—É–Ω—Ç –ø—Ä–æ—Ç–∏–≤ –ø—Ä–∞–≤–∏–ª.",
        "advice": "–ù–∞–≤–µ–¥–∏ –ø–æ—Ä—è–¥–æ–∫ –≤ –≤–∞–∂–Ω–æ–π —Å—Ñ–µ—Ä–µ –∂–∏–∑–Ω–∏ –∏ –≤–æ–∑—å–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–æ—ë —Ä–µ—à–µ–Ω–∏–µ."
    },
    {
        "name": "V. –ò–µ—Ä–æ—Ñ–∞–Ω—Ç",
        "upright": "–¢—Ä–∞–¥–∏—Ü–∏–∏, –æ–±—É—á–µ–Ω–∏–µ, –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞.",
        "reversed": "–°–ª–µ–ø–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –¥–æ–≥–º–∞—Ç–∏–∑–º, –æ—Ç–∫–∞–∑ –æ—Ç —Å–≤–æ–∏—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π.",
        "advice": "–û–ø–∏—Ä–∞–π—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –æ–ø—ã—Ç, –Ω–æ –Ω–µ –ø—Ä–µ–¥–∞–≤–∞–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —É–±–µ–∂–¥–µ–Ω–∏—è."
    },
    {
        "name": "VI. –í–ª—é–±–ª—ë–Ω–Ω—ã–µ",
        "upright": "–í—ã–±–æ—Ä —Å–µ—Ä–¥—Ü–µ–º, –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ, –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å.",
        "reversed": "–ù–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç—å, —Å–∞–º–æ–æ–±–º–∞–Ω –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö, –±–µ–≥—Å—Ç–≤–æ –æ—Ç –≤—ã–±–æ—Ä–∞.",
        "advice": "–ß–µ—Å—Ç–Ω–æ –æ—Ç–≤–µ—Ç—å —Å–µ–±–µ, —á–µ–≥–æ —Ç—ã —Ö–æ—á–µ—à—å, –∏ —Å–¥–µ–ª–∞–π –≤—ã–±–æ—Ä, –∞ –Ω–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –µ–≥–æ."
    },
    {
        "name": "VII. –ö–æ–ª–µ—Å–Ω–∏—Ü–∞",
        "upright": "–î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä—ë–¥, –≤–æ–ª—è, –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–∏—Ç—É–∞—Ü–∏–µ–π.",
        "reversed": "–†–∞–∑–±—Ä–æ–¥, –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–∏–ª, –ø–æ—Ç–µ—Ä—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.",
        "advice": "–û–ø—Ä–µ–¥–µ–ª–∏ —Ç–æ—á–∫—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –¥–µ—Ä–∂–∏ –∫—É—Ä—Å, –¥–∞–∂–µ –µ—Å–ª–∏ –¥–æ—Ä–æ–≥–∞ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ —Ä–æ–≤–Ω–∞—è."
    },
    {
        "name": "VIII. –°–∏–ª–∞",
        "upright": "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏–ª–∞, –º—è–≥–∫–æ—Å—Ç—å, —Ç–µ—Ä–ø–µ–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç–∏–µ.",
        "reversed": "–°–æ–º–Ω–µ–Ω–∏—è –≤ —Å–µ–±–µ, –≤—Å–ø—ã—à–∫–∏ –≥–Ω–µ–≤–∞, –¥–∞–≤–ª–µ–Ω–∏–µ.",
        "advice": "–ë—É–¥—å –º—è–≥–∫–æ –Ω–∞—Å—Ç–æ–π—á–∏–≤(–∞): —Å–∏–ª–∞ ‚Äî —ç—Ç–æ –Ω–µ –∂–µ—Å—Ç–∫–æ—Å—Ç—å, –∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å."
    },
    {
        "name": "IX. –û—Ç—à–µ–ª—å–Ω–∏–∫",
        "upright": "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ —Ä–∞–¥–∏ —Å–º—ã—Å–ª–∞, –ø–æ–∏—Å–∫ —Å–µ–±—è, —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–µ.",
        "reversed": "–ò–∑–æ–ª—è—Ü–∏—è, –∑–∞–∫—Ä—ã—Ç–æ—Å—Ç—å –æ—Ç –º–∏—Ä–∞, –±–µ–≥—Å—Ç–≤–æ –æ—Ç –ª—é–¥–µ–π.",
        "advice": "–ù–∞–π–¥–∏ –≤—Ä–µ–º—è –ø–æ–±—ã—Ç—å –Ω–∞–µ–¥–∏–Ω–µ —Å —Å–æ–±–æ–π –∏ –∑–∞–¥–∞—Ç—å —Å–µ–±–µ —á–µ—Å—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã."
    },
    {
        "name": "X. –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã",
        "upright": "–ü–µ—Ä–µ–º–µ–Ω—ã, –ø–æ–≤–æ—Ä–æ—Ç, —à–∞–Ω—Å, —Ü–∏–∫–ª.",
        "reversed": "–û—â—É—â–µ–Ω–∏–µ –∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏—è, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.",
        "advice": "–ë—É–¥—å –≥–∏–±–∫–∏–º(–æ–π): –∂–∏–∑–Ω—å –º–µ–Ω—è–µ—Ç—Å—è, –∏ –≤–∞–∂–Ω–æ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å—Å—è –ø–æ–¥ –Ω–æ–≤—ã–π –≤–∏—Ç–æ–∫."
    },
    {
        "name": "XI. –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å",
        "upright": "–ß–µ—Å—Ç–Ω–æ—Å—Ç—å, –±–∞–ª–∞–Ω—Å, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤—ã–±–æ—Ä–æ–≤.",
        "reversed": "–ù–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å, –ø–µ—Ä–µ–∫–æ—Å, –Ω–µ–ø—Ä–∏—è—Ç–Ω–∞—è –ø—Ä–∞–≤–¥–∞.",
        "advice": "–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ—Å—Ç–Ω–æ –∏ –≤–∑–≤–µ—Å—å –≤—Å–µ ¬´–∑–∞¬ª –∏ ¬´–ø—Ä–æ—Ç–∏–≤¬ª."
    },
    {
        "name": "XII. –ü–æ–≤–µ—à–µ–Ω–Ω—ã–π",
        "upright": "–ü–∞—É–∑–∞, –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞, –≤–∑–≥–ª—è–¥ –ø–æ–¥ –¥—Ä—É–≥–∏–º —É–≥–ª–æ–º.",
        "reversed": "–ó–∞—Å—Ç–æ–π, –∂–µ—Ä—Ç–≤–∞ –±–µ–∑ —Å–º—ã—Å–ª–∞, —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.",
        "advice": "–ü–æ–∑–≤–æ–ª—å —Å–µ–±–µ –Ω–µ–Ω–∞–¥–æ–ª–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤—Å—ë —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã."
    },
    {
        "name": "XIII. –°–º–µ—Ä—Ç—å",
        "upright": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–æ–≤—ã–π —ç—Ç–∞–ø.",
        "reversed": "–°—Ç—Ä–∞—Ö –æ—Ç–ø—É—Å—Ç–∏—Ç—å, —Ü–µ–ø–ª—è–Ω–∏–µ –∑–∞ —Å—Ç–∞—Ä–æ–µ.",
        "advice": "–û—Ç–ø—É—Å—Ç–∏ —Ç–æ, —á—Ç–æ —É–∂–µ –æ—Ç–∂–∏–ª–æ, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ."
    },
    {
        "name": "XIV. –£–º–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å",
        "upright": "–ë–∞–ª–∞–Ω—Å, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ—Å—Ç—å, –∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞.",
        "reversed": "–ö—Ä–∞–π–Ω–æ—Å—Ç–∏, –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ, —Ä–∞—Å–∫–∞—á–∫–∞ –∏–∑ –æ–¥–Ω–æ–π –∫—Ä–∞–π–Ω–æ—Å—Ç–∏ –≤ –¥—Ä—É–≥—É—é.",
        "advice": "–°–¥–µ–ª–∞–π —Å–µ–≥–æ–¥–Ω—è –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –≤–º–µ—Å—Ç–æ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫–∞—á–∫–∞."
    },
    {
        "name": "XV. –î—å—è–≤–æ–ª",
        "upright": "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Å–æ–±–ª–∞–∑–Ω, –∏–ª–ª—é–∑–∏–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è.",
        "reversed": "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ, –æ—Å–æ–∑–Ω–∞–Ω–∏–µ —Å–≤–æ–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.",
        "advice": "–ü–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç–æ–±–æ–π —É–ø—Ä–∞–≤–ª—è–µ—Ç, –∏ —Å–¥–µ–ª–∞–π –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –∫ —Å–≤–æ–±–æ–¥–µ."
    },
    {
        "name": "XVI. –ë–∞—à–Ω—è",
        "upright": "–í–Ω–µ–∑–∞–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫—Ä—É—à–µ–Ω–∏–µ –∏–ª–ª—é–∑–∏–π.",
        "reversed": "–ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–µ–∏–∑–±–µ–∂–Ω–æ–≥–æ, –ø–æ–ø—ã—Ç–∫–∞ —É–¥–µ—Ä–∂–∞—Ç—å —Å—Ç–∞—Ä–æ–µ.",
        "advice": "–ù–µ —Ü–µ–ø–ª—è–π—Å—è –∑–∞ —Ç–æ, —á—Ç–æ —É–∂–µ —Ä—É—à–∏—Ç—Å—è ‚Äî –Ω–∞ –æ–±–ª–æ–º–∫–∞—Ö –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –Ω–æ–≤–æ–µ."
    },
    {
        "name": "XVII. –ó–≤–µ–∑–¥–∞",
        "upright": "–ù–∞–¥–µ–∂–¥–∞, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.",
        "reversed": "–£—Å—Ç–∞–ª–æ—Å—Ç—å, –ø–æ—Ç–µ—Ä—è –≤–µ—Ä—ã, —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞–Ω–∏–µ.",
        "advice": "–ü–æ–∑–≤–æ–ª—è–π —Å–µ–±–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –∏—â–∏ —Ç–æ, —á—Ç–æ –¥–∞—ë—Ç —Ç–µ–±–µ –æ—â—É—â–µ–Ω–∏–µ —Å–º—ã—Å–ª–∞."
    },
    {
        "name": "XVIII. –õ—É–Ω–∞",
        "upright": "–ù–µ—è—Å–Ω–æ—Å—Ç—å, —Å—Ç—Ä–∞—Ö–∏, —Ñ–∞–Ω—Ç–∞–∑–∏–∏, –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏–µ.",
        "reversed": "–ü—Ä–æ—è—Å–Ω–µ–Ω–∏–µ, –≤—ã—Ö–æ–¥ –∏–∑ –∏–ª–ª—é–∑–∏–π –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, –∑–∞–ø—É—Ç–∞–Ω–Ω–æ—Å—Ç—å.",
        "advice": "–ù–µ –ø—Ä–∏–Ω–∏–º–∞–π —Ä–µ—à–µ–Ω–∏–π –≤ –ø–∏–∫–µ —ç–º–æ—Ü–∏–π ‚Äî –¥–∞–π —á—É–≤—Å—Ç–≤–∞–º –Ω–µ–º–Ω–æ–≥–æ –æ—Å–µ—Å—Ç—å."
    },
    {
        "name": "XIX. –°–æ–ª–Ω—Ü–µ",
        "upright": "–†–∞–¥–æ—Å—Ç—å, —è—Å–Ω–æ—Å—Ç—å, —É—Å–ø–µ—Ö, –¥–µ—Ç—Å–∫–∞—è –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å.",
        "reversed": "–°–æ–º–Ω–µ–Ω–∏—è, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—É—á–∏, –∑–∞–Ω–∏–∂–µ–Ω–Ω–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞.",
        "advice": "–ó–∞–º–µ—Ç—å —Å–≤–æ–∏ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–±–µ–¥—ã ‚Äî —Ç—ã –¥–µ–ª–∞–µ—à—å –±–æ–ª—å—à–µ, —á–µ–º —Ç–µ–±–µ –∫–∞–∂–µ—Ç—Å—è."
    },
    {
        "name": "XX. –°—É–¥",
        "upright": "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ, –ø–µ—Ä–µ–æ—Ü–µ–Ω–∫–∞, –≤–∞–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.",
        "reversed": "–°—Ç—Ä–∞—Ö —Å–¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä, –∏–∑–±–µ–≥–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.",
        "advice": "–ü–æ—Å–º–æ—Ç—Ä–∏ —á–µ—Å—Ç–Ω–æ –Ω–∞ –ø—Ä–æ—à–ª–æ–µ –∏ —Ä–µ—à–∏, —á—Ç–æ —Ç—ã –±–µ—Ä—ë—à—å —Å —Å–æ–±–æ–π –¥–∞–ª—å—à–µ, –∞ —á—Ç–æ –Ω–µ—Ç."
    },
    {
        "name": "XXI. –ú–∏—Ä",
        "upright": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞, —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å, –≥–∞—Ä–º–æ–Ω–∏—è.",
        "reversed": "–ß—É–≤—Å—Ç–≤–æ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ—Å—Ç–∏, –∑–∞–¥–µ—Ä–∂–∫–∞ —Ñ–∏–Ω–∞–ª–∞.",
        "advice": "–î–æ–¥–µ–ª–∞–π –æ–¥–Ω–æ –≤–∞–∂–Ω–æ–µ –¥–µ–ª–æ –¥–æ –∫–æ–Ω—Ü–∞ ‚Äî —ç—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç —Ç–µ–±–µ –º–Ω–æ–≥–æ —ç–Ω–µ—Ä–≥–∏–∏."
    },
]


def get_random_tarot_message() -> str:
    card = random.choice(TAROT_CARDS)
    is_reversed = random.choice([True, False])

    orientation = "–ø—Ä—è–º–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ" if not is_reversed else "–ø–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ"
    meaning = card["upright"] if not is_reversed else card["reversed"]

    text = (
        f"üé¥ –¢–≤–æ—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ—Ç –¢–∞—Ä–æ\n\n"
        f"**{card['name']}** ({orientation})\n\n"
        f"üîç –ó–Ω–∞—á–µ–Ω–∏–µ: {meaning}\n\n"
        f"üí° –°–æ–≤–µ—Ç: {card['advice']}\n\n"
        "‚ö†Ô∏è –≠—Ç–æ –Ω–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å—É–¥—å–±—ã, –∞ –ø–æ–≤–æ–¥ –ø–æ–¥—É–º–∞—Ç—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥ –Ω–æ–≤—ã–º —É–≥–ª–æ–º."
    )
    return text


def get_main_keyboard() -> InlineKeyboardMarkup:
    kb = InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="üé¥ –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É", callback_data="get_hint")]
        ]
    )
    return kb


async def cmd_start(message: Message):
    text = (
        "–ü—Ä–∏–≤–µ—Ç üëã\n\n"
        "–Ø –±–æ—Ç ¬´–ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ—Ç –¢–∞—Ä–æ¬ª.\n"
        "–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –≤—ã—Ç—è–Ω—É—Ç—å –∫–∞—Ä—Ç—É –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É.\n\n"
        "–ü–æ–º–Ω–∏: —ç—Ç–æ –Ω–µ –º–∞–≥–∏—è –∏ –Ω–µ –ø—Ä–∏–≥–æ–≤–æ—Ä, –∞ –ø—Ä–æ—Å—Ç–æ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π –≤–∑–≥–ª—è–¥ –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é. "
        "–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ –∫–∞–∫ –ø–æ–≤–æ–¥ –ø–æ–¥—É–º–∞—Ç—å üòâ"
    )
    await message.answer(text, reply_markup=get_main_keyboard())


async def cmd_card(message: Message):
    text = get_random_tarot_message()
    await message.answer(text, reply_markup=get_main_keyboard(), parse_mode="Markdown")


async def on_callback_query(callback: CallbackQuery):
    if callback.data == "get_hint":
        text = get_random_tarot_message()
        await callback.message.answer(text, reply_markup=get_main_keyboard(), parse_mode="Markdown")
        await callback.answer()  # –∑–∞–∫—Ä—ã–≤–∞–µ–º "—á–∞—Å–∏–∫–∏"


async def main():
    if not BOT_TOKEN or BOT_TOKEN == "PASTE_YOUR_BOT_TOKEN_HERE":
        raise RuntimeError("–£–∫–∞–∂–∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ BOT_TOKEN –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è BOT_TOKEN")

    bot = Bot(token=BOT_TOKEN)
    dp = Dispatcher()

    dp.message.register(cmd_start, Command("start"))
    dp.message.register(cmd_card, Command("card"))
    dp.callback_query.register(on_callback_query, F.data == "get_hint")

    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω. –ù–∞–∂–º–∏ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.")
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())
